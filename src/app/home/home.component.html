<div class="toolbar" role="banner">
    <img width="40" alt="Angular Logo"
        src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==" />
    <span>GrapeCity Blogs</span>
    <div class="spacer"></div>
    <div (click)="logout()" style="cursor: grab;">
        <span>Log Out</span>
        <a aria-label="Angular on twitter" target="_blank" rel="noopener" title="Twitter">
            <svg id="twitter-logo" height="24" data-name="Logo" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 400 400">
                <rect width="400" height="400" fill="none" />
                <path
                    d="M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23"
                    fill="#fff" />
            </svg>
        </a>
    </div>
</div>
<main style="margin-top: 80px; text-align: center;">
    <div class="container col-sm-12">
        <section id="content" class="col-sm-12">
            <h1 style="color: darkgrey;">Featured Articles</h1>
        </section>
        <section id="content" class="col-sm-12">
            <button class="btn btn-primary" (click)="addBlogConfirm(addNewBlogs);">Add Blogs</button>
        </section>
        <div class="card-container">
            <div *ngFor="let blog of newBlogObje | async" [attr.id]="blog.id" class="card">
                <svg id="rocket" alt="Rocket Ship" xmlns="http://www.w3.org/2000/svg" width="101.678" height="50.678"
                    viewBox="0 0 101.678 101.678">
                    <g id="Group_83" data-name="Group 83" transform="translate(-141 -696)">
                        <circle id="Ellipse_8" data-name="Ellipse 8" cx="50.839" cy="50.839" r="50.839"
                            transform="translate(141 696)" fill="#dd0031" />
                        <g id="Group_47" data-name="Group 47" transform="translate(165.185 720.185)">
                            <path id="Path_33" data-name="Path 33"
                                d="M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z"
                                transform="translate(0.371 3.363)" fill="#fff" />
                            <path id="Path_34" data-name="Path 34"
                                d="M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z"
                                transform="translate(0 0.005)" fill="#fff" />
                        </g>
                    </g>
                </svg>
                <div class="col-sm-12 form-group row">
                    <div class="col-sm-2">
                        <p class="products">{{blog.type}}</p>
                        <p class="date">{{blog.createdDate}}</p>
                        <p class="products">- {{blog.author}}</p>
                    </div>
                    <div class="col-sm-3">
                        <h3>{{blog.heading}}</h3>
                    </div>
                    <div class="col-sm-6 products">
                        <p>{{blog.para}}</p>
                    </div>
                    <div class="col-sm-1">
                        <div class="row col-sm-12">
                            <a (click)="confirmDelete(blog.id, deleteBlog)"><i class="fa fa-trash-o"
                                    style="color:red"></i></a>
                        </div>
                        <div class="row col-sm-12">
                            <a (click)="editModal(blog, addNewBlogs)"><i class="fa fa-pencil-square-o"
                                    style="color:green;"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Pop up Modal -->
<ng-template #addNewBlogs let-modal>
    <div class="modal-header">
        <h5 class="modal-title">{{isAddNewBlog ? 'Add New Blogs' : 'Edit Blogs'}}</h5>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-body">
            <div class="row">
                <div class="col-md-4 pr-1 pl-1">
                    <div class="form-group">
                        <label class="requiredField">Blog Type</label>
                        <input id="blogType" type="text" class="form-control" name="blogType"
                            placeholder="Enter Blog Type" [(ngModel)]="blogArray.type" #blog_type="ngModel" required
                            minlength="4">
                        <div *ngIf="blog_type.invalid && (blog_type.dirty || blog_type.touched)"
                            class="alert alert-danger">

                            <div *ngIf="blog_type.errors.required">
                                Blog Type is required.
                            </div>
                            <div *ngIf="blog_type.errors.minlength">
                                Blog Type must be at least 4 characters long.
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-4 pr-1 pl-1">
                    <div class="form-group">
                        <label class="requiredField">Blog Heading</label>
                        <input type="text" class="form-control" name="blogheading" placeholder="Enter Blog heading"
                            [(ngModel)]="blogArray.heading" #blog_heading="ngModel" minlength="4" maxLength="10">
                        <div *ngIf="blog_heading.invalid && (blog_heading.dirty || blog_heading.touched)"
                            class="alert alert-danger">

                            <div *ngIf="blog_heading.errors.required">
                                Blog Heading is required.
                            </div>
                            <div *ngIf="blog_heading.errors.minlength">
                                Blog Heading must be at least 4 characters long.
                            </div>
                            <div *ngIf="blog_heading.errors.maxLength">
                                Blog Heading cannot be more than 15 characters long.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 pr-1 pl-1">
                    <div class="form-group">
                        <label class="requiredField">Author</label>
                        <input type="text" class="form-control" name="author" placeholder="Enter Blog Author"
                            [(ngModel)]="blogArray.author" #Author="ngModel" minlength="2" maxLength="10">
                        <div *ngIf="Author.invalid && (Author.dirty || Author.touched)"
                            class="alert alert-danger">

                            <div *ngIf="Author.errors.required">
                                Blog Author is required.
                            </div>
                            <div *ngIf="Author.errors.minlength">
                                Blog Author must be at least 4 characters long.
                            </div>
                            <div *ngIf="Author.errors.maxLength">
                                Blog Author cannot be more than 10 characters long.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 pr-1 pl-1">
                    <div class="form-group">
                        <label class="requiredField">Blog Information</label>
                        <textarea rows="10" name="para" placeholder="Enter Brief Information about blog...."
                            [(ngModel)]="blogArray.para" [ngModelOptions]="{standalone: true}" #para="ngModel" minLength="50" class="form-control textarea">
                        </textarea>
                        <div *ngIf="para.invalid && (para.dirty || para.touched)"
                            class="alert alert-danger">

                            <div *ngIf="para.errors.required">
                                Blog Information is required.
                            </div>
                            <div *ngIf="para.errors.minlength">
                                Blog Information must be at least of 50 characters long.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary"
            [disabled]="!blogArray.type || !blogArray.heading || !blogArray.author || !blogArray.para"
            (click)="modal.close('Close click');validation();">Save</button>
        <button type="button" class="btn btn-light" (click)="modal.close('Close click');clearForm();">Close</button>
    </div>

</ng-template>

<!-- Delete onfirm Modal -->
<ng-template #deleteBlog let-modal>
    <div class="modal-header">
        <h5 class="modal-title">Confirm?</h5>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to delete the selected blog?</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary"
            (click)="modal.close('Close click');deleteRow(rowToDel)">Yes</button>
        <button type="button" class="btn btn-light" (click)="modal.close('Close click');">No</button>
    </div>
</ng-template>